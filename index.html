<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <img src="#">
  <input type="text" placeholder="Search..">
  <button class="search">search</button>
  <button onclick="window.location.reload()">new image</button>
  <script>

function Giphy (){
    const img = document.querySelector ('img');
    const url = 'https://api.giphy.com/v1/gifs/translate?api_key=ChmajGa5JpHtwp403A0hTBGKa8rwApez&s=';

    const replaceURL = (keyword) => {
        newURL = url.concat(keyword);
        console.log(keyword);
        console.log(newURL);

        fetch(newURL, {mode: 'cors'})
            .then(function(response) {
                return response.json();
            })
            .then(function(response) {
                img.src = (response.data.images.original.url);
            })
            .catch(function(response) {
                console.log('error');
            });
    }

    return {
        replaceURL,
    }
}

Giphy().replaceURL('bird'); //initialise gif

function search (){
    const input = document.querySelector('input');
    const searchBtn = document.querySelector('button');
    searchBtn.addEventListener('click', () => {
        const newKeyword = input.value;
        Giphy().replaceURL(newKeyword);
    })
}
search ();

</script>

</body>
</html>
